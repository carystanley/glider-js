(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=1)})([function(a,b){'use strict';let c=30,d=60;b.a={OldFPS:c,FPS:d,Gravity:3*c/d,HImpulse:2*c/d,VImpulse:2*c/d,NormalThrust:5*c/d,MaxHVel:16*c/d,GliderWidth:48,GliderHeight:20,BallWidth:32,BallHeight:32,BallGravity:3*c/d/d,CopterWidth:32,CopterHeight:30,CopterHVel:1*c/d,CopterVVel:2*c/d,BalloonWidth:24,BalloonHeight:30,BalloonHVel:0*c/d,BalloonVVel:-2*c/d,DripGravity:.5*c/d,Ground:310,Ceil:8}},function(a,b,c){a.exports=c(2)},function(a,b,c){'use strict';function d(){var a=new Stats;return a.setMode(0),a.domElement.style.position='absolute',a.domElement.style.right='0px',a.domElement.style.top='0px',document.body.appendChild(a.domElement),a}function e(a){var b=u[a]||{},c=b.entities||[];return{entities:c.map(function(a){return new t[a.type](a)})}}Object.defineProperty(b,'__esModule',{value:!0});var f=c(0),g=c(3),h=c(4),i=c(5),j=c(6),k=c(8),l=c(10),m=c(11),n=c(12),o=c(13),p=c(14),q=c(15),r=c.n(q),s=c(16),t={ball:g.a,shelf:h.a,vent:i.a,copter:j.a},u=[{entities:[{type:'ball',bounce:2.5,x:100,y:f.a.Ground-30},{type:'shelf',x:75,y:120,w:150},{type:'vent',x:50,h:200},{type:'copter',x:200,dir:-1},{type:'vent',x:250,h:200}]}];window.onload=function(){function a(a){a.clear(),i.renderShadow(a),h.entities.forEach(function(b){b.render(a)}),i.render(a),a.push()}function b(){l.a.IsKeyDown(m.a.Left)?i.control(-1):l.a.IsKeyDown(m.a.Right)?i.control(1):i.control(0),i.update(),h.entities.forEach(function(a){a.update(),n.a(i.body,a.body)&&a.onCollide(i)})}function c(){f.begin(),b(),a(g),f.end(),Object(o.a)(c)}var f=d(),g=new s.a(document.getElementById('mainCanvas'),Object(p.b)({"glider.gif":Object(p.a)('glider.gif')},r.a));l.a.Initialize();var h=e(0),i=new k.a;c()}},function(a,b,c){'use strict';var d=c(0);b.a=class{constructor(a){this.initialV=-a.bounce,this.initialY=a.y,this.v=this.initialV,this.gravity=d.a.BallGravity,this.body={w:d.a.BallWidth,h:d.a.BallHeight,x:a.x,y:this.initialY}}update(){var a=this.body;a.y+=this.v,this.v+=this.gravity,a.y>this.initialY&&(a.y=this.initialY,this.v=this.initialV)}render(a){var b=this.body;a.ctx.strokeRect(b.x,b.y,b.w,b.h)}onCollide(a){a.damage()}}},function(a,b){'use strict';b.a=class{constructor(a){this.body={w:a.w,h:7,x:a.x,y:a.y}}update(){}render(a){var b=this.body;a.ctx.strokeRect(b.x,b.y,b.w,b.h)}onCollide(a){a.damage()}}},function(a,b,c){'use strict';var d=c(0);b.a=class{constructor(a){this.body={w:1,h:a.h,x:a.x,y:d.a.Ground-a.h}}update(){}render(a){var b=this.body;a.drawSprite(b.x,b.y+b.h,'vent'),a.ctx.fillStyle='blue',a.ctx.globalAlpha=0.25,a.ctx.fillRect(b.x-5,b.y,b.w+10,b.h),a.ctx.globalAlpha=1}onCollide(a){a.lift()}}},function(a,b,c){'use strict';var d=c(0),e=c(7);let f=['copter0','copter1','copter2','copter3','copter4','copter5','copter6','copter7'];b.a=class{constructor(a){this.initialX=a.x,this.dir=a.dir,this.body={w:d.a.CopterWidth,h:d.a.CopterHeight,x:this.initialX,y:d.a.Ceil},this.count=0}update(){var a=this.body;a.x+=this.dir*d.a.CopterHVel,a.y+=d.a.CopterVVel,a.y>d.a.Ground&&(a.y=d.a.Ceil,a.x=this.initialX),this.count++}render(a){var b=this.body;a.drawSprite(b.x,b.y,f[Object(e.a)(this.count,4,f.length)])}onCollide(a){a.damage()}}},function(a,b){'use strict';b.a=function(a,b,c){return Math.floor(a/b)%c}},function(a,b,c){'use strict';var d=c(0),e=c(9);b.a=class{constructor(){this.lives=3,this.vx=0,this.vy=0,this.gx=0,this.gy=0,this.body={w:d.a.GliderWidth,h:d.a.GliderHeight,x:0,y:0},this.damaged=!1,this.dead=!1}control(a){this.gx=a*d.a.NormalThrust}update(){if(!this.dead){var a=this.body;this.damaged?(this.vy=d.a.Gravity,this.vx=0):(this.vx=Object(e.a)(this.vx+d.a.OldFPS/d.a.FPS*Object(e.a)(this.gx-this.vx,-d.a.HImpulse,d.a.HImpulse),-d.a.NormalThrust,d.a.NormalThrust),this.vy=Object(e.a)(this.vy+d.a.OldFPS/d.a.FPS*Object(e.a)(this.gy-this.vy,-d.a.VImpulse,d.a.VImpulse),-d.a.MaxHVel,d.a.Gravity)),a.x+=this.vx,a.y+=this.vy,a.y>d.a.Ground&&this.die(),this.gy=d.a.Gravity}}lift(){this.gy=-d.a.VImpulse}damage(){this.damaged=!0}reset(){var a=this.body;this.damaged=!1,a.y=0,a.x=0}die(){0<this.lives?(this.lives--,this.reset()):this.dead=!0}render(a){if(!this.dead){var b=this.body;this.damaged?a.drawSprite(b.x,b.y,'gliderCrash'):a.drawSprite(b.x,b.y,0>this.gx?'gliderBack':'glider')}}renderShadow(a){if(!this.dead){var b=this.body;a.drawSprite(b.x,d.a.Ground,'gliderShadow')}}}},function(a,b){'use strict';b.a=function(a,b,c){return Math.max(Math.min(a,c),b)}},function(a,b){'use strict';b.a={Pressed:[],Initialize:function(){var a=this;document.onkeydown=function(b){a.KeyDownEvent(b)},document.onkeyup=function(b){a.KeyUpEvent(b)}},IsKeyDown:function(a){return null!=this.Pressed[a]&&this.Pressed[a]},KeyDownEvent:function(a){this.Pressed[a.keyCode]=!0,this.PreventScrolling(a)},KeyUpEvent:function(a){this.Pressed[a.keyCode]=!1,this.PreventScrolling(a)},PreventScrolling:function(a){37<=a.keyCode&&40>=a.keyCode&&a.preventDefault()}}},function(a,b){'use strict';b.a={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:80,Left:37,Up:38,Right:39,Down:40}},function(a,b){'use strict';b.a=function(c,a){var b=c.x,d=a.x,e=b+c.w,f=d+a.w,g=c.y,h=a.y,i=g+c.h,j=h+a.h;return!(i<h)&&!(g>j)&&!(e<d)&&!(b>f)}},function(a,b){'use strict';const c=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}).bind(window);b.a=c},function(a,b){'use strict';b.a=function(a,b){b=b||{};var c=new Image;return b.onload&&c.on('load',b.onload),c.src=a,c},b.b=function(a,b){var c={},d=b.meta,e=a[d.image];return Object.keys(b.frames).forEach(function(a){var d=b.frames[a];c[a]={frame:d.frame,origin:d.origin,sheet:e}}),c}},function(a){a.exports={meta:{image:'glider.gif'},frames:{glider:{frame:{x:1,y:2,w:46,h:18},origin:{x:0,y:0}},gliderBack:{frame:{x:1,y:27,w:47,h:20},origin:{x:0,y:0}},gliderShadow:{frame:{x:4,y:60,w:41,h:13},origin:{x:0,y:0}},gliderCrash:{frame:{x:4,y:113,w:40,h:20},origin:{x:-2,y:0}},vent:{frame:{x:57,y:110,w:47,h:13},origin:{x:23,y:6}},copter0:{frame:{x:56,y:24,w:33,h:35},origin:{x:0,y:0}},copter1:{frame:{x:93,y:24,w:24,h:35},origin:{x:-4,y:0}},copter2:{frame:{x:122,y:24,w:13,h:35},origin:{x:-10,y:0}},copter3:{frame:{x:140,y:24,w:24,h:35},origin:{x:-4,y:0}},copter4:{frame:{x:60,y:68,w:33,h:35},origin:{x:0,y:0}},copter5:{frame:{x:98,y:68,w:24,h:35},origin:{x:-4,y:0}},copter6:{frame:{x:127,y:68,w:13,h:35},origin:{x:-10,y:0}},copter7:{frame:{x:145,y:68,w:24,h:35},origin:{x:-4,y:0}}}}},function(a,b){'use strict';b.a=class{constructor(a,b){this.spriteConfig=b,this.canvas=a,this.width=a.width,this.height=a.height,this.displayContext=a.getContext('2d'),this.bufferCanvas=document.createElement('canvas'),this.bufferCanvas.width=this.width,this.bufferCanvas.height=this.height,this.ctx=this.bufferCanvas.getContext('2d')}drawSprite(a,b,c){var d=Math.round;let e=this.spriteConfig[c],{x:f,y:g,w:i,h:j}=e.frame,h=e.origin,k=e.sheet;this.ctx.drawImage(k,f,g,i,j,d(a-h.x),d(b-h.y),i,j)}clear(){this.ctx.fillStyle='white',this.ctx.fillRect(0,0,this.width,this.height)}push(){this.displayContext.drawImage(this.bufferCanvas,0,0,this.width,this.height)}}}]);
//# sourceMappingURL=app.js.map